(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7a35"],{7853:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container py-3"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-8 mx-auto"},[r("v-input",{attrs:{id:"profile-nickname",type:"text",maxlength:"30",label:"ニックネーム",placeholder:"ニックネーム"},model:{value:e.form.screen_name,callback:function(t){e.$set(e.form,"screen_name",t)},expression:"form.screen_name"}}),r("v-input",{attrs:{id:"profile-name",type:"text",maxlength:"30",label:"本名",placeholder:"本名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),r("v-text-area",{attrs:{id:"profile-introduction",type:"text",maxlength:"100",label:"自己紹介",placeholder:"自己紹介"},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}}),r("v-input",{attrs:{id:"profile-mail",type:"text",maxlength:"100",label:"メールアドレス",placeholder:"メールアドレス"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("v-file",{attrs:{id:"profile-image",accept:"image/*",label:"プロフィール画像"}}),r("v-file",{attrs:{id:"profile-background-image",accept:"image/*",label:"背景画像"}}),r("v-input",{attrs:{id:"profile-password",type:"password",maxlength:"30",disabled:!e.form.isChangePass,label:"パスワード",placeholder:"パスワード"},model:{value:e.form.old_password,callback:function(t){e.$set(e.form,"old_password",t)},expression:"form.old_password"}}),r("v-input",{attrs:{id:"profile-password-new",type:"password",maxlength:"30",disabled:!e.form.isChangePass,label:"新しいパスワード",placeholder:"新しいパスワード"},model:{value:e.form.new_password,callback:function(t){e.$set(e.form,"new_password",t)},expression:"form.new_password"}}),r("v-input",{attrs:{id:"profile-password-new",type:"password",maxlength:"30",disabled:!e.form.isChangePass,label:"新しいパスワード(確認用)",placeholder:"新しいパスワード(確認用)"},model:{value:e.form.new_password_confirmation,callback:function(t){e.$set(e.form,"new_password_confirmation",t)},expression:"form.new_password_confirmation"}}),r("div",{staticClass:"form-group form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"profile-checkbox",type:"checkbox"},domProps:{checked:e.form.isChangePass},on:{click:e.check}}),r("label",{staticClass:"form-check-label",attrs:{for:"profile-checkbox"}},[e._v(" パスワードを変更する ")])]),r("button",{staticClass:"btn btn-primary float-right",attrs:{disabled:e.sending},on:{click:e.updateUser}},[e._v(" 変更を適用する ")])],1)])])},i=[],s=r("a8a1"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("label",{attrs:{for:e.id}},[e._v(e._s(e.label))]),r("textarea",{class:[{"is-invalid":e.isInvalid},"form-control"],attrs:{rows:"3",id:e.id,maxlength:e.maxlength,disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._l(e.errors,(function(t,a){return r("div",{key:a,class:[{"invalid-feedback":e.isInvalid}]},[e._v(" "+e._s(t)+" ")])}))],2)},n=[],l={name:"VTextArea",props:{readonly:{type:Boolean,require:!1,default:!1},disabled:{type:Boolean,require:!1,default:!1},label:{type:String,require:!1,default:""},id:{type:String,require:!1,default:""},value:{type:String,require:!1,default:""},placeholder:{type:String,require:!1,default:""},maxlength:{type:String,require:!1,default:""},errors:{type:Array,require:!0,default:function(){return[]}}},computed:{isInvalid:function(){return this.errors.length>0}}},c=l,d=r("2877"),u=Object(d["a"])(c,o,n,!1,null,null,null),f=u.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("label",{attrs:{for:e.id}},[e._v(e._s(e.label))]),r("input",{staticClass:"form-control-file",attrs:{type:"file",accept:e.accept,id:e.id}}),e._l(e.errors,(function(t,a){return r("div",{key:a,class:[{"invalid-feedback":e.isInvalid}]},[e._v(" "+e._s(t)+" ")])}))],2)},p=[],h={name:"VFile",props:{label:{type:String,require:!1,default:""},id:{type:String,require:!1,defaault:""},accept:{type:String,require:!1,default:""},errors:{type:Array,require:!0,default:function(){return[]}}},computed:{isInvalid:function(){return this.errors.length>0}}},b=h,g=Object(d["a"])(b,m,p,!1,null,"35574196",null),_=g.exports,v=r("e402"),w=r("52d8"),x={name:"Profile",components:{VFile:_,VTextArea:f,VInput:s["a"]},mixins:[v["a"],w["a"]],created:function(){setTimeout(this.addToForm,2e3)},data:function(){return{id:"",form:{screen_name:"",name:"",introduction:"",profile_image:"",background_image:"",email:"",old_password:"",new_password:"",new_password_confirmation:"",isChangePass:!1},sending:!1}},methods:{addToForm:function(){try{var e=this.$root.loginUser;this.id=e.id,this.form.screen_name=e.attributes.screen_name,this.form.name=e.attributes.name,this.form.introduction=e.attributes.introduction,this.form.profile_image=e.attributes.profile_image,this.form.background_image=e.attributes.background_image,this.form.email=e.attributes.email}catch(t){this.showSuccessPopup("データ取得失敗")}},resetForm:function(){this.form.old_password="",this.form.new_password="",this.form.new_password_confirmation="",this.form.isChangePass=!1},updateUser:function(){var e=this;this.showIndicator("更新中"),this.sending=!0,window.axios.patch(this.routes.user(this.id),this.form).then((function(t){e.showSuccessPopup("更新しました"),e.resetForm()})).catch((function(t){e.handleErrorStatusCode(t)})).finally((function(){e.sending=!1}))},check:function(){this.form.isChangePass=!this.form.isChangePass}}},k=x,y=Object(d["a"])(k,a,i,!1,null,"7227f2ab",null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0d7a35.598d5204.js.map